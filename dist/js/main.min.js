window.onscroll=function(){let e=document.querySelector(".header__fixed");window.pageYOffset<300?e.classList.add("header_glue"):e.classList.remove("header_glue")};const mainIconElements=document.querySelectorAll(".weather-app__icon"),tempElement=document.querySelector(".weather-app__left-degrees"),descElement=document.querySelector(".weather-app__left-description"),locationElement=document.querySelector(".weather-app__location"),notificationElement=document.querySelector(".notification"),windElem=document.querySelector(".wind"),searchElement=document.querySelector(".weather-forecast__input"),weather={temperature:{unit:"celsius"}},KELVIN=273,key="0e087257f53f9f784e9021fb9ecaff0a";function setPosition(e){getWeather(e.coords.latitude,e.coords.longitude)}function getNow(){const e=new Date,t=[];t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December";const n=`${e.getDate()}th ${t[e.getMonth()]} ${e.getFullYear()},`+" ";return this.timestamp=n}function showError(e){notificationElement.style.display="block",notificationElement.innerHTML=`<p> ${e.message} </p>`}function getWeather(e,t){fetch(`http://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${key}`).then((function(e){return e.json()})).then((function(e){weather.temperature.value=Math.floor(e.main.temp-273),weather.description=e.weather[0].description,weather.iconId=e.weather[0].icon,weather.city=e.name,weather.country=e.sys.country,weather.speed=Math.floor(e.wind.speed)})).then((function(){displayWeather()}))}function displayWeather(){mainIconElements.forEach((function(e,t,n){mainIconElements[t].innerHTML=`<img src="images/icons/${weather.iconId}.png"/>`})),tempElement.innerHTML=`${weather.temperature.value}Â°`,descElement.innerHTML=weather.description,locationElement.innerHTML=`${getNow()} ${weather.city}, ${weather.country}`,windElem.innerHTML=`${weather.speed} <span>m/s<span>`}"geolocation"in navigator?navigator.geolocation.getCurrentPosition(setPosition,showError):(notificationElement.style.display="block",notificationElement.innerHTML="<p>Browser doesn't Support Geolocation</p>");const searchBox=new google.maps.places.SearchBox(searchElement);searchBox.addListener("places_changed",()=>{const e=searchBox.getPlaces()[0];null!=e&&getWeather(e.geometry.location.lat(),e.geometry.location.lng())});